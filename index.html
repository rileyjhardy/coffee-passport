<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>☕ Coffee Passport</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <div class="topbar__title">☕ Coffee Passport</div>
        <div class="topbar__actions">
          <button id="btnFind" class="btn btn--ghost" type="button">Find</button>
          <button id="btnPassport" class="btn btn--ghost" type="button">Passport</button>
        </div>
      </header>

      <main class="main">
        <section class="section" id="findView">
          <div class="panel__header">
            <div>
              <h1 class="h1">Near you</h1>
              <div id="locationStatus" class="muted">Getting your location…</div>
            </div>
            <div class="panel__headerActions">
              <button id="btnRefresh" class="btn" type="button">Refresh</button>
            </div>
          </div>

          <div class="grid">
            <section class="panel" aria-label="Map">
              <div id="map" class="map" aria-label="Map"></div>
            </section>

            <section class="panel" aria-label="Nearby">
              <div id="shops" class="list" aria-live="polite"></div>
            </section>
          </div>
        </section>

        <section class="panel" id="passportPanel" hidden>
          <div class="panel__header">
            <div>
              <h2 class="h2">Your passport</h2>
              <div class="muted">Visited shops are saved on this device.</div>
            </div>
            <div class="panel__headerActions">
              <button id="btnExport" class="btn btn--ghost" type="button">Export</button>
              <button id="btnClear" class="btn btn--danger" type="button">Clear</button>
            </div>
          </div>
          <div id="passport" class="passport"></div>
        </section>
      </main>

      <dialog id="visitDialog" class="dialog">
        <form method="dialog" class="dialog__form" id="visitForm">
          <div class="dialog__header">
            <div>
              <div class="dialog__title" id="visitTitle">Visit</div>
              <div class="muted" id="visitSub">Rate and add a photo.</div>
            </div>
            <button class="iconBtn" value="cancel" aria-label="Close" type="submit">✕</button>
          </div>

          <div class="field">
            <label class="label" for="rating">Rating</label>
            <input id="rating" type="hidden" value="" />
            <div class="stars" role="radiogroup" aria-label="Rating">
              <button class="star" type="button" data-value="1" aria-label="1 star" aria-checked="false" role="radio">★</button>
              <button class="star" type="button" data-value="2" aria-label="2 stars" aria-checked="false" role="radio">★</button>
              <button class="star" type="button" data-value="3" aria-label="3 stars" aria-checked="false" role="radio">★</button>
              <button class="star" type="button" data-value="4" aria-label="4 stars" aria-checked="false" role="radio">★</button>
              <button class="star" type="button" data-value="5" aria-label="5 stars" aria-checked="false" role="radio">★</button>
            </div>
          </div>

          <div class="field">
            <label class="label" for="photo">Photo</label>
            <div class="fileInput">
              <input id="photo" class="fileInput__native" type="file" accept="image/*" capture="environment" />
              <label class="fileInput__btn" for="photo">Choose photo</label>
              <div id="photoName" class="fileInput__name">No file selected</div>
            </div>
            <div id="photoHint" class="muted">Optional. Stored locally.</div>
          </div>

          <div class="dialog__actions">
            <button class="btn btn--ghost" value="cancel" type="submit">Cancel</button>
            <button id="btnSaveVisit" class="btn" value="default" type="submit">Save visit</button>
          </div>
        </form>
      </dialog>

      <dialog id="shopDialog" class="dialog">
        <form method="dialog" class="dialog__form" id="shopForm">
          <div class="dialog__header">
            <div>
              <div class="dialog__title" id="shopTitle">Coffee shop</div>
              <div class="muted" id="shopAddress"></div>
            </div>
            <button class="iconBtn" value="cancel" aria-label="Close" type="submit">✕</button>
          </div>

          <div class="gallery" id="shopGallery" aria-live="polite"></div>

          <div class="dialog__actions">
            <button id="btnShopAskRiley" class="btnAskRiley" type="button">Ask Riley</button>
            <button id="btnShopShowOnMap" class="btn btn--ghost" value="cancel" type="button">Show on map</button>
            <button id="btnShopVisit" class="btn" value="default" type="button">Visit</button>
          </div>
        </form>
      </dialog>

      <dialog id="rileyDialog" class="dialog">
        <form method="dialog" class="dialog__form">
          <div class="dialog__header">
            <div>
              <div class="dialog__title">Riley's Verdict</div>
            </div>
            <button class="iconBtn" value="cancel" aria-label="Close" type="submit">✕</button>
          </div>
          
          <div id="rileyVerdictContainer"></div>
        </form>
      </dialog>

      <dialog id="welcomeDialog" class="dialog dialog--welcome">
        <form method="dialog" class="dialog__form">
          <div class="welcome">
            <div class="welcome__photo">
              <img src="./riley-photos/happy.jpg" alt="Riley" />
            </div>
            
            <div class="welcome__content">
              <h2 class="welcome__title">Welcome to Your Coffee Passport! ☕</h2>
              
              <div class="welcome__message">
                <p>I know how much you love your coffee. I built this app for you so you can find new coffee spots and get my super important opinion on them.</p>
                
                <p>Here's what you can do:</p>
                <ul class="welcome__list">
                  <li>Find nearby coffee shops</li>
                  <li>Ask me, your favorite brother, for chaotic advice</li>
                  <li>Rate and save your favorite visits</li>
                  <li>Build your coffee passport</li>
                </ul>
              </div>
              
              <button class="btn" type="submit" value="default">I'm thirsty</button>
            </div>
          </div>
        </form>
      </dialog>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
